{"ast":null,"code":"import React from'react';import{useNavigate,useLocation}from'react-router-dom';import{GoogleLogin}from'@react-oauth/google';import{jwtDecode}from\"jwt-decode\";//Handle user login\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function handleLoginSuccess(credentialResponse,navigate,location){var _location$state;const token=jwtDecode(credentialResponse===null||credentialResponse===void 0?void 0:credentialResponse.credential);//decode token\nlocalStorage.setItem('loggedIn',true);//Store token in local storage\nlocalStorage.setItem('googleToken',JSON.stringify(token));navigate(((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.from)||'/home');//Redirect to page user was trying to access or default home page\n};//Handle user login failure\nexport const handleLoginFailure=error=>{console.error('Login Failed:',error);};function LoginPage(){const navigate=useNavigate();const location=useLocation();return/*#__PURE__*/_jsx(\"div\",{className:\"h-screen grid place-items-center bg-gradient-to-b from-lightBlue-400 to-peach-400\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card bg-base-100 shadow-xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-[600px] h-[300px] card-body grid place-items-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"card-title\",children:\"Login/Sign-up with Google\"}),/*#__PURE__*/_jsx(GoogleLogin,{onSuccess:response=>handleLoginSuccess(response,navigate,location),onError:handleLoginFailure,theme:\"outline\",size:\"large\",text:\"signin_with\"})]})})});};export default LoginPage;","map":{"version":3,"names":["React","useNavigate","useLocation","GoogleLogin","jwtDecode","jsx","_jsx","jsxs","_jsxs","handleLoginSuccess","credentialResponse","navigate","location","_location$state","token","credential","localStorage","setItem","JSON","stringify","state","from","handleLoginFailure","error","console","LoginPage","className","children","onSuccess","response","onError","theme","size","text"],"sources":["C:/Users/LENOVO/Documents/digt2107-mass-splitter/client/src/pages/LoginPage.js"],"sourcesContent":["import React from 'react';\r\nimport {useNavigate, useLocation } from 'react-router-dom';\r\nimport { GoogleLogin } from '@react-oauth/google';\r\nimport { jwtDecode } from \"jwt-decode\";\r\n\r\n\r\n//Handle user login\r\nexport function handleLoginSuccess (credentialResponse, navigate, location) {\r\n    const token = jwtDecode(credentialResponse?.credential); //decode token\r\n    localStorage.setItem('loggedIn', true); //Store token in local storage\r\n    localStorage.setItem('googleToken', JSON.stringify(token));\r\n    navigate(location.state?.from || '/home'); //Redirect to page user was trying to access or default home page\r\n};\r\n//Handle user login failure\r\nexport const handleLoginFailure = (error) => {\r\n    console.error('Login Failed:', error);\r\n};\r\n\r\nfunction LoginPage() {\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n\r\n    return (\r\n\r\n        <div className=\"h-screen grid place-items-center bg-gradient-to-b from-lightBlue-400 to-peach-400\">\r\n             <div className=\"card bg-base-100 shadow-xl\">\r\n                <div className=\"w-[600px] h-[300px] card-body grid place-items-center\">\r\n                    <h1 className=\"card-title\">Login/Sign-up with Google</h1> \r\n                    {/*Google sign in button*/}\r\n                        <GoogleLogin\r\n                            onSuccess={(response) => handleLoginSuccess(response, navigate, location)}\r\n                            onError={handleLoginFailure}\r\n                            theme=\"outline\"\r\n                            size=\"large\"\r\n                            text=\"signin_with\" \r\n                        />                                 \r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LoginPage;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAAQC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAC1D,OAASC,WAAW,KAAQ,qBAAqB,CACjD,OAASC,SAAS,KAAQ,YAAY,CAGtC;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,MAAO,SAAS,CAAAC,kBAAkBA,CAAEC,kBAAkB,CAAEC,QAAQ,CAAEC,QAAQ,CAAE,KAAAC,eAAA,CACxE,KAAM,CAAAC,KAAK,CAAGV,SAAS,CAACM,kBAAkB,SAAlBA,kBAAkB,iBAAlBA,kBAAkB,CAAEK,UAAU,CAAC,CAAE;AACzDC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAE,IAAI,CAAC,CAAE;AACxCD,YAAY,CAACC,OAAO,CAAC,aAAa,CAAEC,IAAI,CAACC,SAAS,CAACL,KAAK,CAAC,CAAC,CAC1DH,QAAQ,CAAC,EAAAE,eAAA,CAAAD,QAAQ,CAACQ,KAAK,UAAAP,eAAA,iBAAdA,eAAA,CAAgBQ,IAAI,GAAI,OAAO,CAAC,CAAE;AAC/C,CAAC,CACD;AACA,MAAO,MAAM,CAAAC,kBAAkB,CAAIC,KAAK,EAAK,CACzCC,OAAO,CAACD,KAAK,CAAC,eAAe,CAAEA,KAAK,CAAC,CACzC,CAAC,CAED,QAAS,CAAAE,SAASA,CAAA,CAAG,CACjB,KAAM,CAAAd,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAW,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAE9B,mBAEII,IAAA,QAAKoB,SAAS,CAAC,mFAAmF,CAAAC,QAAA,cAC7FrB,IAAA,QAAKoB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,cACxCnB,KAAA,QAAKkB,SAAS,CAAC,uDAAuD,CAAAC,QAAA,eAClErB,IAAA,OAAIoB,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,2BAAyB,CAAI,CAAC,cAErDrB,IAAA,CAACH,WAAW,EACRyB,SAAS,CAAGC,QAAQ,EAAKpB,kBAAkB,CAACoB,QAAQ,CAAElB,QAAQ,CAAEC,QAAQ,CAAE,CAC1EkB,OAAO,CAAER,kBAAmB,CAC5BS,KAAK,CAAC,SAAS,CACfC,IAAI,CAAC,OAAO,CACZC,IAAI,CAAC,aAAa,CACrB,CAAC,EACL,CAAC,CACL,CAAC,CACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAAR,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}